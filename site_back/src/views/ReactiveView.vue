<!-- site_back/src/views/ReactiveView.vue -->
<template>
  <div class="reactive-view">
    <h1>üéØ –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏</h1>
    
    <div class="currency-note">
      üí∞ –í—Å–µ —Ü–µ–Ω—ã –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö –°–®–ê ($)
    </div>
    
    <!-- –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö -->
    <div class="demo-section">
      <h2>üìä –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
      
      <div class="reactive-display">
        <p><strong>–ò–º—è:</strong> {{ userName }}</p>
        <p><strong>–í–æ–∑—Ä–∞—Å—Ç:</strong> {{ age }} –ª–µ—Ç</p>
        <p><strong>–ë—é–¥–∂–µ—Ç:</strong> {{ formatPrice(budget) }}</p>
        <p><strong>–°—Ç–∞—Ç—É—Å:</strong> 
          <span :class="statusClass">{{ statusMessage }}</span>
        </p>
      </div>

      <!-- –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö -->
      <div class="controls">
        <h3>üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h3>
        
        <div class="input-group">
          <label>–ò–º—è:</label>
          <input v-model="userName" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
        </div>
        
        <div class="input-group">
          <label>–í–æ–∑—Ä–∞—Å—Ç:</label>
          <input v-model.number="age" type="number" min="0" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç">
        </div>
        
        <div class="input-group">
          <label>–ë—é–¥–∂–µ—Ç ($):</label>
          <input v-model.number="budget" type="number" min="0" placeholder="–í–≤–µ–¥–∏—Ç–µ –±—é–¥–∂–µ—Ç">
        </div>
        
        <div class="input-group">
          <label>–¶–≤–µ—Ç —Ç–µ–º—ã:</label>
          <select v-model="themeColor" @change="updateTheme">
            <option value="blue">–°–∏–Ω–∏–π</option>
            <option value="green">–ó–µ–ª–µ–Ω—ã–π</option>
            <option value="purple">–§–∏–æ–ª–µ—Ç–æ–≤—ã–π</option>
            <option value="orange">–û—Ä–∞–Ω–∂–µ–≤—ã–π</option>
          </select>
        </div>
      </div>

      <!-- –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è -->
      <div class="computed-section">
        <h3>üßÆ –í—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (Computed)</h3>
        
        <div class="computed-display">
          <p><strong>–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è:</strong> {{ birthYear }}</p>
          <p><strong>–ú–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –≤–∏–¥–µ–æ–∫–∞—Ä—Ç:</strong> {{ possibleGPUs }}</p>
          <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è –±—é–¥–∂–µ—Ç–∞:</strong> {{ budgetCategory }}</p>
          <p><strong>–¶–µ–Ω–∞ —Å–±–æ—Ä–∫–∏:</strong> {{ formatPrice(buildPrice) }}</p>
        </div>
      </div>

      <!-- –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
      <div class="styling-section">
        <h3>üé® –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏</h3>
        
        <div class="style-demo" 
             :style="{
               backgroundColor: themeColor + '20',
               borderColor: themeColor,
               color: textColor
             }">
          <p>–≠—Ç–æ—Ç –±–ª–æ–∫ –º–µ–Ω—è–µ—Ç —Å—Ç–∏–ª–∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ</p>
          <p>–¢–µ–∫—É—â–∏–π —Ü–≤–µ—Ç: {{ themeColor }}</p>
        </div>
        
        <div class="budget-meter">
          <div class="meter-background">
            <div class="meter-fill" :style="meterStyle"></div>
          </div>
          <p>–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ: {{ meterPercentage }}%</p>
        </div>
      </div>

      <!-- –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã -->
      <div class="class-section">
        <h3>üè∑Ô∏è –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã</h3>
        
        <div :class="[
          'status-box',
          budgetStatus
        ]">
          <p>{{ budgetStatusText }}</p>
        </div>
        
        <button @click="togglePremium" 
                :class="{
                  'btn': true,
                  'btn-premium': isPremium,
                  'btn-standard': !isPremium
                }">
          {{ isPremium ? '‚≠ê –ü—Ä–µ–º–∏—É–º —Ä–µ–∂–∏–º' : '‚ö° –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º' }}
        </button>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'ReactiveView',
  data() {
    return {
      // –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
      userName: '–ò–≤–∞–Ω',
      age: 25,
      budget: 1500,
      themeColor: 'blue',
      isPremium: false,
      baseBuildPrice: 800
    }
  },
  computed: {
    // –í—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ)
    birthYear() {
      const currentYear = new Date().getFullYear();
      return currentYear - this.age;
    },
    
    possibleGPUs() {
      const gpuPrice = 500; // –¶–µ–Ω–∞ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö
      return Math.floor(this.budget / gpuPrice);
    },
    
    budgetCategory() {
      if (this.budget < 500) return '–ë—é–¥–∂–µ—Ç–Ω—ã–π';
      if (this.budget < 1200) return '–°—Ä–µ–¥–Ω–∏–π';
      if (this.budget < 2500) return '–í—ã—Å–æ–∫–∏–π';
      return '–≠–ª–∏—Ç–Ω—ã–π';
    },
    
    buildPrice() {
      let price = this.baseBuildPrice;
      if (this.isPremium) {
        price *= 1.5; // –ü—Ä–µ–º–∏—É–º —Å–±–æ—Ä–∫–∞ –¥–æ—Ä–æ–∂–µ
      }
      if (this.age > 30) {
        price *= 0.9; // –°–∫–∏–¥–∫–∞ –∑–∞ –≤–æ–∑—Ä–∞—Å—Ç
      }
      return Math.round(price);
    },
    
    statusMessage() {
      if (this.budget >= this.buildPrice) {
        return '–ú–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ü–ö';
      } else {
        return '–ë—é–¥–∂–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω';
      }
    },
    
    statusClass() {
      return this.budget >= this.buildPrice ? 'status-success' : 'status-error';
    },
    
    textColor() {
      const colors = {
        blue: '#2c3e50',
        green: '#27ae60',
        purple: '#8e44ad',
        orange: '#e67e22'
      };
      return colors[this.themeColor] || '#2c3e50';
    },
    
    meterPercentage() {
      const maxBudget = 3000;
      return Math.min((this.budget / maxBudget) * 100, 100);
    },
    
    meterStyle() {
      return {
        width: this.meterPercentage + '%',
        backgroundColor: this.themeColor
      };
    },
    
    budgetStatus() {
      if (this.budget < 500) return 'budget-low';
      if (this.budget < 1500) return 'budget-medium';
      return 'budget-high';
    },
    
    budgetStatusText() {
      switch (this.budgetStatus) {
        case 'budget-low': return 'üü° –ù–∏–∑–∫–∏–π –±—é–¥–∂–µ—Ç';
        case 'budget-medium': return 'üü¢ –°—Ä–µ–¥–Ω–∏–π –±—é–¥–∂–µ—Ç';
        case 'budget-high': return 'üî¥ –í—ã—Å–æ–∫–∏–π –±—é–¥–∂–µ—Ç';
        default: return '‚ö™ –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω';
      }
    }
  },
  methods: {
    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω—ã –≤ –¥–æ–ª–ª–∞—Ä—ã
    formatPrice(price) {
      if (!price) return '$0';
      return `$${price}`;
    },

    updateTheme() {
      console.log('–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞:', this.themeColor);
    },
    
    togglePremium() {
      this.isPremium = !this.isPremium;
    }
  },
  // –ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
  watch: {
    budget(newBudget, oldBudget) {
      console.log(`–ë—é–¥–∂–µ—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è: $${oldBudget} ‚Üí $${newBudget}`);
      
      if (newBudget > oldBudget) {
        console.log('üéâ –ë—é–¥–∂–µ—Ç —É–≤–µ–ª–∏—á–µ–Ω!');
      } else if (newBudget < oldBudget) {
        console.log('üìâ –ë—é–¥–∂–µ—Ç —É–º–µ–Ω—å—à–µ–Ω');
      }
    },
    
    userName(newName) {
      console.log('–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞:', newName);
    }
  }
}
</script>

<style scoped>
.reactive-view {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
}

.currency-note {
  background: #e8f4fd;
  padding: 10px 15px;
  border-radius: 5px;
  margin-bottom: 15px;
  border-left: 4px solid #3498db;
  font-weight: bold;
  color: #2c3e50;
  text-align: center;
}

.demo-section {
  margin-bottom: 30px;
}

.reactive-display, .computed-display {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
}

.controls {
  background: white;
  padding: 20px;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.input-group {
  margin: 10px 0;
}

label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
}

input, select {
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.style-demo {
  padding: 20px;
  border-radius: 8px;
  margin: 15px 0;
  border: 2px solid;
  transition: all 0.3s ease;
}

.budget-meter {
  margin: 20px 0;
}

.meter-background {
  width: 100%;
  height: 20px;
  background: #ecf0f1;
  border-radius: 10px;
  overflow: hidden;
}

.meter-fill {
  height: 100%;
  transition: width 0.5s ease;
}

.status-box {
  padding: 15px;
  border-radius: 8px;
  margin: 10px 0;
  font-weight: bold;
  text-align: center;
}

.budget-low {
  background: #fff3cd;
  border: 1px solid #ffeaa7;
  color: #856404;
}

.budget-medium {
  background: #d1ecf1;
  border: 1px solid #bee5eb;
  color: #0c5460;
}

.budget-high {
  background: #f8d7da;
  border: 1px solid #f5c6cb;
  color: #721c24;
}

.btn {
  padding: 10px 20px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s ease;
}

.btn-premium {
  background: linear-gradient(135deg, #ffd700, #ffed4e);
  color: #000;
}

.btn-standard {
  background: #3498db;
  color: white;
}

.status-success {
  color: #27ae60;
  font-weight: bold;
}

.status-error {
  color: #e74c3c;
  font-weight: bold;
}

.computed-section, .styling-section, .class-section {
  background: white;
  padding: 20px;
  border-radius: 8px;
  margin: 20px 0;
  border: 1px solid #e9ecef;
}
</style>